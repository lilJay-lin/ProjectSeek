<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title></title>
    <link rel="stylesheet" href="public/css/video_play.min.css"/>
    <!--<link rel="stylesheet" href="public/css/video-js.min.css"/>-->
    <!--<script src="public/js/video.min.js"></script>-->
    <script src="public/js/video.dev.js"></script>
    <style>

    </style>
</head>
<body>
<div class="video" style="font-size:0">
    <video id="video" class="video-js vjs-default-skin"
           preload="true" width="100%"
           poster="http://wap.dm.10086.cn/portalone/share/mdspfile/1046229170/21/20151028/CP2232/000002056888/20151015851084963105839210280_client150_200CP2232201510160726141616.jpg"
           data-setup="{}" draggable="true" contenteditable="false" dropzone="move">
    </video>
</div>
</body>
<script src="public/js/jquery.min.js"></script>
<script>

    var load_div = $(".load_div"),
            hasLoaded = 0;

    var myPlayer = videojs('video');
    myPlayer.on( 'play', onplay );
    myPlayer.on( 'error', onerror );
    function onerror(e){
        // console.log('error',e);
    }


    function onplay(e){
        if(!hasLoaded){	// 还为请求到播放地址，重新请求
            getFirstUrl();
        }
    };

    function getFirstUrl() {  // 数据首次加载，不管收费免费都进行视频数据加载到播放器
        hasLoaded = 1;
        myPlayer.src({ type: "video/mp4", src:'http://10.9.14.45:3000/public/1.mp4' });
    }
</script>
</html>
